(this["webpackJsonpapi-app"]=this["webpackJsonpapi-app"]||[]).push([[0],{130:function(e,t,n){"use strict";n.r(t);var a=n(193),r=n(91),c=Object(r.a)({palette:{type:"dark",primary:{light:"#4dabf5",main:"#2196f3",dark:"#1769aa"},secondary:{light:"#f73378",main:"#f50057",dark:"#ab003c"}}}),i=n(0),s=n.n(i),o=n(10),l=n.n(o),j=n(28),u=n(166),d=n(169),b=n(65),m=n(11),h=n(167),p=n(168),x=n(33),O=n(196),f=n(170),g=n(171),v=n(172),_=n(173),C=n(161),y=n(164),k=n(165),w=n(2),N=[{title:"Todos",path:"/",icon:Object(w.jsx)(C.a,{})},{title:"Nuevo",path:"/new",icon:Object(w.jsx)(y.a,{})},{title:"About",path:"/about",icon:Object(w.jsx)(k.a,{})}],S=Object(u.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:200,flexShrink:0},drawerPaper:{width:200},drawerContainer:{overflow:"auto"}}})),z=function(){var e=Object(m.f)(),t=S();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(h.a,{}),Object(w.jsx)(p.a,{position:"fixed",className:t.appBar,children:Object(w.jsx)(d.a,{children:Object(w.jsx)(x.a,{variant:"h6",noWrap:!0,children:"RoboUsers"})})}),Object(w.jsxs)(O.a,{variant:"permanent",className:t.drawer,classes:{paper:t.drawerPaper},children:[Object(w.jsx)(d.a,{}),Object(w.jsx)("div",{className:t.drawerContainer,children:Object(w.jsx)(f.a,{children:N.map((function(t){var n=t.title,a=t.icon,r=t.path;return Object(w.jsxs)(g.a,{button:!0,onClick:function(){return e.push(r)},children:[Object(w.jsx)(v.a,{children:a}),Object(w.jsx)(_.a,{primary:n})]},n)}))})})]})]})},A=n(198),U=n(184),E=n(199),I=n(180),R=n(181),P=n(174),T=n(175),B=n(176),F=n(177),L=n(178),H=n(179),W=Object(u.a)((function(e){return Object(A.a)({root:{maxWidth:345},media:{height:"auto"}})}));function D(e){var t=W(),n=e.user,a=e.handleDelete,r=e.handleUpdate,c=e.handleClick;return Object(w.jsxs)(P.a,{className:t.root,children:[Object(w.jsxs)(T.a,{onClick:function(){return c(n)},children:[Object(w.jsx)(B.a,{component:"img",className:t.media,image:n.img,title:n.img}),Object(w.jsxs)(F.a,{children:[Object(w.jsx)(x.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"".concat(n.first_name," ").concat(n.last_name)}),Object(w.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:n.email})]})]}),Object(w.jsxs)(L.a,{disableSpacing:!0,children:[Object(w.jsx)(H.a,{"aria-label":"edit",onClick:function(){return r(n)},children:Object(w.jsx)(I.a,{})}),Object(w.jsx)(H.a,{"aria-label":"delete",onClick:function(){return a(n.uid)},children:Object(w.jsx)(R.a,{})})]})]})}var q=n(68),J=n.n(q),Z=n(87),G=n(88),V=n.n(G).a.create({responseType:"json"});V.interceptors.request.use(function(){var e=Object(Z.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.baseURL="https://react-robouser.herokuapp.com/api",t.headers={Accept:"application/json","Content-type":"application/json","Access-Control-Allow-Origin":"*"},e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));var $=V,M=n(182),X=n(183),K=n(195);var Q=Object(u.a)((function(e){return Object(A.a)({card:{maxWidth:400,position:"absolute",backgroundColor:e.palette.background.paper},header:{textAlign:"center",fontSize:"2rem !important"}})}));function Y(e){var t=e.title,n=e.open,a=e.handleClose,r=e.node,c=e.sizeOverride,i=e.avatar,o=s.a.useState({width:"".concat(c||50,"%"),top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),l=Object(j.a)(o,1)[0],u=Q(),d=Object(w.jsxs)(P.a,{style:l,className:u.card,children:[Object(w.jsx)(M.a,{title:t,avatar:i,classes:{title:u.header}}),Object(w.jsx)(F.a,{children:r}),Object(w.jsx)(L.a,{children:Object(w.jsx)(X.a,{variant:"contained",color:"primary",size:"small",onClick:a,children:"Cerrar"})})]});return Object(w.jsx)("div",{className:"app-modal",children:Object(w.jsx)(K.a,{open:n,onClose:a,children:d})})}var ee=n(185),te=n(186),ne=n(187),ae=n(188),re=Object(i.createContext)({user:{first_name:"",last_name:"",user_name:"",email:"",phone:""},updateUser:function(e){}}),ce=(re.Consumer,re.Provider,re),ie=Object(u.a)((function(e){return Object(A.a)({large:{width:e.spacing(7),height:e.spacing(7)}})})),se=function(e){var t=Object(m.f)(),n=ie(),a=Object(i.useContext)(ce).updateUser,r=Object(i.useState)([]),c=Object(j.a)(r,2),o=c[0],l=c[1],u=s.a.useState(!1),d=Object(j.a)(u,2),b=d[0],h=d[1],p=Object(i.useState)({last_name:"",first_name:"",user_name:"",phone:"",email:""}),x=Object(j.a)(p,2),O=x[0],C=x[1];Object(i.useEffect)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return $.get("/usuarios?desde=".concat(e)).then((function(e){return e})).catch((function(e){return e}))}().then((function(e){var t=e.data.usuarios;l(t)})).catch((function(e){console.log(e)})),function(){}}),[]);var y=function(e){(function(e){return $.delete("/usuarios/".concat(e)).then((function(e){return e})).catch((function(e){return e}))})(e).then((function(){l(o.filter((function(t){return t.uid!==e})))})).catch((function(e){console.log(e)}))},k=function(e){C(e),h(!0)},N=function(e){a(e),t.push("/update")},S=Object(w.jsx)(U.a,{container:!0,spacing:2,alignContent:"center",justify:"center",children:Object(w.jsx)(E.a,{alt:"RoboUser",src:"".concat(O.img),className:n.large})}),z=Object(w.jsx)(U.a,{container:!0,spacing:2,alignContent:"center",justify:"center",children:Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(g.a,{children:[Object(w.jsx)(v.a,{children:Object(w.jsx)(ee.a,{})}),Object(w.jsx)(_.a,{primary:O.email})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)(v.a,{children:Object(w.jsx)(te.a,{})}),Object(w.jsx)(_.a,{primary:O.user_name})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)(v.a,{children:Object(w.jsx)(ne.a,{})}),Object(w.jsx)(_.a,{primary:O.phone})]}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)(v.a,{children:Object(w.jsx)(ae.a,{})}),Object(w.jsx)(_.a,{primary:O.created&&O.created.toString().split("T")[0]})]})]})});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(U.a,{container:!0,spacing:4,children:o.map((function(e){var t=e.uid;return Object(w.jsx)(U.a,{item:!0,xs:12,sm:3,className:"animate__animated animate__fadeIn animate__faster",children:Object(w.jsx)(D,{user:e,handleClick:k,handleDelete:y,handleUpdate:N})},t)}))}),b&&Object(w.jsx)(Y,{title:"".concat(O.first_name," ").concat(O.last_name),open:b,handleClose:function(){h(!1)},node:z,sizeOverride:80,avatar:S})]})},oe=n(190),le=n(191),je=n(32),ue=n(194),de=Object(u.a)((function(e){return Object(A.a)({error:{backgroundColor:"#FDE8E8"},errorlabel:{color:"black !important"}})})),be=function(e){var t=de(),n=e.id,a=e.value,r=e.label,c=e.error,i=e.change;return Object(w.jsx)("div",{className:"app-input",children:Object(w.jsx)(ue.a,{fullWidth:!0,id:n,variant:"outlined",size:"small",label:r,onChange:i,error:c,InputProps:{classes:{error:t.error}},value:a})})},me=Object(u.a)((function(e){return Object(A.a)({large:{width:e.spacing(20),height:e.spacing(20)}})})),he=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,pe=/\(?\d+\)?[-.\s]?\d+[-.\s]?\d/,xe=Object(je.c)({mapPropsToValues:function(e){var t,n,a,r,c;return{first_name:(null===(t=e.user)||void 0===t?void 0:t.first_name)||"",last_name:(null===(n=e.user)||void 0===n?void 0:n.last_name)||"",email:(null===(a=e.user)||void 0===a?void 0:a.email)||"",phone:(null===(r=e.user)||void 0===r?void 0:r.phone)||"",user_name:(null===(c=e.user)||void 0===c?void 0:c.user_name)||""}},validateOnChange:!0,validate:function(e){var t={};return e.first_name.trim().length<2&&(t.first_name="Longitud insuficiente"),e.last_name.trim().length<2&&(t.last_name="Longitud insuficiente"),(e.email&&!he.test(e.email)||e.email.trim().length<1)&&(t.email="Formato de Email incorrecto"),(e.phone&&!pe.test(e.phone)||e.phone.trim().length<1)&&(t.phone="Formato de Tel\xe9fono incorrecto. Aceptados: (555) 444-6789 | 555-444-6789 | 555.444.6789 | 555 444 6789"),e.user_name.trim().length<2&&(t.user_name="Longitud insuficiente"),t},handleSubmit:function(e,t){t.setSubmitting(!1),t.props.submitHandler(e)}})((function(e){var t=me(),n=e.handleChange,a=e.values,r=e.errors,c=e.isSubmitting;return Object(w.jsx)("div",{className:"user-form",children:Object(w.jsxs)(je.b,{noValidate:!0,children:[Object(w.jsxs)(U.a,{container:!0,spacing:2,alignContent:"center",justify:"center",children:[Object(w.jsx)(U.a,{item:!0,children:Object(w.jsx)(E.a,{alt:"Robo user",src:"https://robohash.org/0".concat(a.first_name,".png?size=200x200&set=set1"),className:t.large})}),Object(w.jsxs)(U.a,{item:!0,xs:12,sm:!0,container:!0,direction:"column",spacing:2,children:[Object(w.jsxs)(U.a,{item:!0,xs:8,sm:6,md:8,children:[Object(w.jsx)(je.a,{type:"text",id:"first_name",component:be,change:n,label:"Nombre(s)",value:a.first_name,error:!!r.first_name}),r.first_name&&"".concat(r.first_name," ")]}),Object(w.jsxs)(U.a,{item:!0,xs:8,sm:6,md:8,children:[Object(w.jsx)(je.a,{type:"text",id:"last_name",component:be,change:n,label:"Apellido(s)",value:a.last_name,error:!!r.last_name}),r.last_name&&"".concat(r.last_name," ")]}),Object(w.jsxs)(U.a,{item:!0,xs:8,sm:6,md:8,children:[Object(w.jsx)(je.a,{type:"email",id:"email",component:be,change:n,label:"Email",value:a.email,error:!!r.email}),r.email&&"".concat(r.email," ")]}),Object(w.jsxs)(U.a,{item:!0,xs:8,sm:6,md:8,children:[Object(w.jsx)(je.a,{type:"text",id:"user_name",component:be,change:n,label:"Nickname",value:a.user_name,error:!!r.user_name}),r.user_name&&"".concat(r.user_name," ")]}),Object(w.jsxs)(U.a,{item:!0,xs:8,sm:6,md:8,children:[Object(w.jsx)(je.a,{type:"text",id:"phone",component:be,change:n,label:"Tel\xe9fono",value:a.phone,error:!!r.phone}),r.phone&&"".concat(r.phone," ")]})]})]}),Object(w.jsx)(U.a,{container:!0,spacing:2,direction:"row",alignContent:"center",justify:"center",children:Object(w.jsx)(U.a,{item:!0,xs:8,sm:6,md:8,children:Object(w.jsx)(X.a,{type:"submit",disabled:c,variant:"contained",color:"primary",children:"Guardar"})})})]})})})),Oe=function(e){var t=e.submitHandler,n=e.user;return Object(w.jsx)("div",{className:"form-validators",children:Object(w.jsx)(xe,{submitHandler:t,user:n})})},fe=n(197),ge=n(189),ve=Object(u.a)((function(e){return Object(A.a)({root:{position:"relative"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},label:{fontFamily:"sans-serif",fontSize:"2rem !important"}})})),_e=function(e){var t=e.open,n=e.message,a=ve();return Object(w.jsx)("div",{className:"app-spinner",children:Object(w.jsxs)(fe.a,{className:a.backdrop,open:t,children:[Object(w.jsx)(U.a,{container:!0,spacing:2,alignContent:"center",justify:"center",children:Object(w.jsx)(U.a,{item:!0,xs:12,sm:12,md:12,children:Object(w.jsx)(ge.a,{color:"inherit"})})}),Object(w.jsx)(U.a,{container:!0,spacing:2,alignContent:"center",justify:"center",children:Object(w.jsx)(U.a,{item:!0,xs:12,sm:12,md:12,children:Object(w.jsx)("div",{className:a.label,children:Object(w.jsx)("p",{children:n})})})})]})})},Ce=function(e){var t=e.action,n=s.a.useState(!1),a=Object(j.a)(n,2),r=a[0],c=a[1],o=Object(i.useContext)(ce).user,l=function(e){switch(c(!0),console.log(e),t){case"Nuevo":(function(e){return $.post("/usuarios",e).then((function(e){return e})).catch((function(e){return e}))})(e).then((function(e){console.log(e),c(!1)})).catch((function(e){console.log(e)}));break;case"Editar":(function(e,t){return $.put("/usuarios/".concat(t),e).then((function(e){return e})).catch((function(e){return e}))})(e,o.uid||"").then((function(e){console.log(e),c(!1)})).catch((function(e){console.log(e)}))}};return Object(w.jsxs)("div",{children:[Object(w.jsx)(x.a,{variant:"h2",children:t}),Object(w.jsx)(oe.a,{}),Object(w.jsx)(d.a,{}),Object(w.jsx)(le.a,{children:o&&"Editar"===t?Object(w.jsx)(Oe,{submitHandler:l,user:o}):Object(w.jsx)(Oe,{submitHandler:l})}),r&&Object(w.jsx)(_e,{open:r,message:"Cargando"})]})},ye=n(192),ke=Object(u.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)}}})),we=function(){var e=ke(),t=Object(m.f)();return Object(w.jsx)("main",{children:Object(w.jsx)("div",{className:e.heroContent,children:Object(w.jsxs)(le.a,{maxWidth:"sm",children:[Object(w.jsx)(x.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"About"}),Object(w.jsxs)(x.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:["CRUD de Usuarios creados aleatoriamente con la herramienta ",Object(w.jsx)(ye.a,{href:"https://www.mockaroo.com/",children:"Mockaroo"}),", con el fin de tener una base de datos Inicial para la obtenci\xf3n de datos. La API REST a la que se hacen Request a trav\xe9s de AXIOS est\xe1 creada en NodeJs en conjunto con Express."]}),Object(w.jsx)("div",{className:e.heroButtons,children:Object(w.jsxs)(U.a,{container:!0,spacing:2,justify:"center",children:[Object(w.jsx)(U.a,{item:!0,children:Object(w.jsx)(X.a,{variant:"contained",color:"primary",onClick:function(){return t.push("/")},children:"Lista de RoboUsers"})}),Object(w.jsx)(U.a,{item:!0,children:Object(w.jsx)(X.a,{variant:"outlined",color:"primary",onClick:function(){return t.push("/new")},children:"Crear nuevo RoboUser"})})]})})]})})})},Ne=Object(u.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3)}}}));var Se=function(){var e=Ne(),t=Object(i.useState)({first_name:"",last_name:"",user_name:"",email:"",phone:""}),n=Object(j.a)(t,2),a=n[0],r=n[1],c={user:a,updateUser:function(e){r(e)}};return Object(w.jsx)(ce.Provider,{value:c,children:Object(w.jsx)(b.a,{children:Object(w.jsxs)("div",{className:e.root,children:[Object(w.jsx)(z,{}),Object(w.jsxs)("main",{className:e.content,children:[Object(w.jsx)(d.a,{}),Object(w.jsxs)(m.c,{children:[Object(w.jsx)(m.a,{exact:!0,path:"/",render:function(e){return Object(w.jsx)(se,{})}}),Object(w.jsx)(m.a,{exact:!0,path:"/new",render:function(e){return Object(w.jsx)(Ce,{action:"Nuevo"})}}),Object(w.jsx)(m.a,{exact:!0,path:"/update",render:function(e){return Object(w.jsx)(Ce,{action:"Editar"})}}),Object(w.jsx)(m.a,{exact:!0,path:"/about",render:function(e){return Object(w.jsx)(we,{})}})]})]})]})})})};l.a.render(Object(w.jsx)(a.a,{theme:c,children:Object(w.jsx)(Se,{})}),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.92de567d.chunk.js.map